(self["webpackChunkpay_template_core"]=self["webpackChunkpay_template_core"]||[]).push([[64],{3482:function(e,a,n){"use strict";n.r(a),a["default"]={message:e=>{const{normalize:a}=e;return a(["hello i18n !!"])}}},4090:function(e,a,n){"use strict";var t=n(9242),i=n(3396);function r(e,a,n,t,r,c){return(0,i.wg)(),(0,i.iD)("div")}var c=n(4329),o={name:"App",setup(){const{t:e}=(0,c.QT)({inheritLocale:!0,useScope:"local"});return{t:e}}},d=n(89);const s=(0,d.Z)(o,[["render",r]]);var l=s;n(8052),n(2184);function u(){const e=n(8092),a={};return e.keys().forEach((n=>{const t=n.match(/([A-Za-z0-9-_]+)\./i);if(t&&t.length>1){const i=t[1];a[i]=e(n).default}})),a}var m=(0,c.o)({legacy:!1,locale:"en",fallbackLocale:"en",messages:u()}),p=n(7968),y=n.n(p),g=(n(1703),n(7387));const f=function(){var e=function(e,a){if(!e)throw new Error("Make sure that the parentElement exist for the selector you're using");e.insertAdjacentHTML("afterbegin",a)},a=function(a){var n='\x3c!-- Generic Modal --\x3e\n            <div class="container" id="modal-container">\n                <div class="row">\n                    <div class="col-12">\n                        <div class="modal fade" id="genericModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="genericModal" aria-hidden="true">\n                            <div class="modal-dialog modal-dialog-centered" role="document">\n                                <div class="modal-content">\n\n                                \x3c!-- START: Error Content --\x3e\n                                <div id="error-content" class="modal-populated-content d-none">\n                                    <div class="modal-header">\n                                    <h2 class="modal-title" id="genericModal" data-i18n="error-title">...</h2>\n                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                                            <span aria-hidden="true">&times;</span>\n                                    </button>\n                                    </div>\n                                    <div class="modal-body">\n                                        <span data-i18n="error-text">...</span>\n                                        <button type="button" class="btn modal-button modal-close custom-modal-btn" data-dismiss="modal" data-i18n="error-text-link">...</button>\n                                    </div>\n                                </div>\n                                \x3c!-- END: Error Content --\x3e\n\n                                \x3c!-- START: In Progress --\x3e\n                                <div id="in-progress-content" class="modal-populated-content d-none">\n                                    <div class="modal-header">\n                                        <h3 class="modal-title text-dark" id="genericModal" data-i18n="payment-modal-header"></h3>\n                                    </div>\n                                    <div class="modal-body">\n                                        <div class="progress">\n                                            <div class="color"></div>\n                                        </div>\n                                    </div>\n                                    <div class="modal-footer justify-content-start mb-0">\n                                        <h5 class="mb-0" data-i18n="payment-modal-footer-text-1"></h5>\n                                        <h5 data-i18n="payment-modal-footer-text-2"></h5>\n                                    </div>\n                                </div>\n                                \x3c!-- END: In Progress --\x3e\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>';window.jQyery,e(a,n)},n=function(e,a){"show"===a?g(e).modal("show"):g(e).modal("hide")},t=function(e,a){var t=document.querySelector("#modal-container #genericModal"),i=document.getElementById("error-content"),r=document.getElementById("in-progress-content");"paymentError"===e&&"show"===a&&(i.classList.remove("d-none"),r.classList.add("d-none")),"paymentInProgress"===e&&"show"===a&&(r.classList.remove("d-none"),i.classList.add("d-none")),g(t).on("hidden.bs.modal",(function(){i.classList.add("d-none"),r.classList.add("d-none")})),n(t,"show")},i=function(e){a(e)};return{init:i,eventHandler:t}}();var h=n(8082),S=n.n(h),b={index:(()=>window.location.host.split("-")[0].includes("staging")||window.location.host.includes("localhost")?"staging":window.location.host.split("-")[0].includes("uat")?"uat":"production")(),local:window.location.host.includes("localhost")},v={headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),headersPatch:new Headers({Accept:"application/json","Content-Type":"application/merge-patch+json"}),init:()=>{const e=(()=>"staging"===b.index?"api-staging.":"uat"===b.index?"api-uat.":"api.")(),a=(()=>{if(window.location.host.includes("localhost")){let e;return e=localStorage.getItem("shopName")?localStorage.getItem("shopName"):"ecrazycombo",e}return window.location.hostname.split(".")[1]})(),n="https://"+e+a+".com/api/v1/";return{apiUrlPrefix:e,domain:a,baseUrl:n}}},U=n(7387);const P=()=>{window.matchMedia("(pointer:coarse)").matches&&U("html, body").animate({scrollTop:U("#payment-form").offset().top},1e3,(function(){U("input#card").focus()}))};var D={cleanUp:()=>{const e=localStorage.getItem("CLEAN");return e||""},decrypteResponse:async e=>{if(e&&"ct"in e){const a=e,n=v.init().apiUrlPrefix+v.init().domain+".com",t=S().MD5(n).toString(),i=S().enc.Utf8.parse(t),r=S().enc.Utf8.parse(t.substring(0,16)),c=S().AES.decrypt(a.ct,i,{iv:r}),o=S().enc.Utf8.stringify(c);return await JSON.parse(o)}return e},updateElementContent:(e,a)=>{e&&e.forEach((function(e){e.innerHTML=a}))},toggleElementDisplay:(e,a)=>{e&&e.forEach((function(e){e.style.display=a}))},toggleElementAttr:(e,a,n)=>{e&&e.forEach((function(e){"setAttribute"===a&&e.setAttribute(n,n),"removeAttribute"===a&&e.removeAttribute(n)}))},checkboxState:(e,a)=>{if(e)for(var n=0;n<e.length;n++)!0===a&&(e[n].checked=!0),!1===a&&(e[n].checked=!1)},stringToCanvas:(e,a,n,t,i,r,c)=>{var o=new(y().Canvas)(e,{selection:!1,interactive:!1}),d=new(y().Text)(a,{left:0,top:0,fontFamily:r,textAlign:n,fill:t,fontSize:i,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,hasControls:!1});o.add(d),o.setWidth(document.body.scrollWidth),o.setHeight(c),document.querySelector(".upper-canvas").remove()},pageLoader:function(e,a){const n=U(".loader-wrapper"),t=U(".main-area");n.length&&t.length&&(!0===e?t.hide():!1===e&&setTimeout((function(){n.hide(),t.show(),"28442"!==a&&"afa7c"!==a&&"0330d"!==a||P()}),800))},formData:function(e){let a={};var n=e.querySelectorAll("input, select");for(let t=0;t<n.length;++t){const e=n[t],i=e.name,r=e.value;i&&(a[i]=r)}return a},prefilledForm:function(e){if(e){const a=document.querySelector("[name='firstname']"),n=document.querySelector("[name='lastname']"),t=document.querySelector("[name='address']"),i=document.querySelector("[name='address2']"),r=document.querySelector("[name='zipcode']"),c=document.querySelector("[name='city']"),o=document.querySelector("[name='state']"),d=document.querySelector("[name='email']"),s=document.querySelector("[name='phone']");a&&(a.value=e.firstName),n&&(n.value=e.lastName),d&&(d.value=e.email),s&&(s.value=e.phone),t&&e.address&&(t.value=e.address.street),i&&e.address&&(i.value=e.address.complement),r&&e.address&&(r.value=e.address.postcode),c&&e.address&&(c.value=e.address.city),o&&e.address&&(o.value=e.address.state,e.address&&"PH"===e.address.country&&sessionStorage.setItem("_state",e.address.state))}},cleanObject:e=>function e(a){return Object.keys(a).forEach((function(n){a[n]&&"object"===typeof a[n]?e(a[n]):null!=a[n]&&""!==a[n]||delete a[n]})),a}(e),sortObject:e=>Object.entries(e).sort(((e,a)=>e[1]-a[1])).reduce(((e,[a,n])=>(e[a]=n,e)),{})},_={get:e=>{for(var a=e+"=",n=decodeURIComponent(document.cookie),t=n.split(";"),i=0;i<t.length;i++){var r=t[i];while(" "==r.charAt(0))r=r.substring(1);if(0==r.indexOf(a))return r.substring(a.length,r.length)}return null},create:(e,a,n)=>{var t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3);var i="expires="+t.toUTCString();document.cookie=e+"="+a+";"+i+";path=/"}};const I=v.init().baseUrl,E=async e=>{const a=await fetch(I+"sessions/"+e+D.cleanUp(),{method:"GET",headers:v.headers});return a.ok?a.json():Promise.reject(await a.json())},C=async(e,a)=>{const n=await fetch(I+"sessions/"+e+D.cleanUp(),{method:"PATCH",headers:v.headersPatch,body:JSON.stringify(a)});return n.ok?n.json():Promise.reject(await n.json())},w=async(e,a)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()},A=(()=>"staging"===b.index?"https://staging-payment.":"uat"===b.index?"https://uat-payment.":"https://payment.")(),k=(()=>{if(_.get("__sID")&&"null"!==_.get("__sID"))return _.get("__sID");{const e=new URL(window.location.href);return _.create("__sID",e.searchParams.get("sid"),1),e.searchParams.get("sid")}})();var T={id:k,paymentUrlPrefix:A,get:E,patch:C,updateOrder:w};const x=[{subdomain:"twin",productsAliasName:["1 Pair TWS Earbuds","2 Pairs TWS Earbuds","3 Pairs TWS Earbuds","4 Pairs TWS Earbuds"],productInfo:{en:{title:"High sound quality waterproof, sweatproof Bluetooth wireless earphones, perfect for listening to music"}},marketPrice:[140,280,420,560],shippingPrice:[140,140,140,140],qty:[1,2,3,4],sliderImages:["roas/tws/img/earphones1.jpg","roas/tws/img/earphones2.jpg","roas/tws/img/earphones3.jpg","roas/tws/img/earphones4.jpg","roas/tws/img/earphones5.jpg","roas/tws/img/earphones6.jpg","roas/tws/img/earphones7.jpg","roas/tws/img/earphones1.jpg","roas/tws/img/earphones2.jpg","roas/tws/img/earphones3.jpg","roas/tws/img/earphones4.jpg","roas/tws/img/earphones5.jpg","roas/tws/img/earphones6.jpg","roas/tws/img/earphones7.jpg"]}],R=[{name:"Afghanistan",dial_code:"+93",code:"AF"},{name:"Aland Islands",dial_code:"+358",code:"AX"},{name:"Albania",dial_code:"+355",code:"AL"},{name:"Algeria",dial_code:"+213",code:"DZ"},{name:"AmericanSamoa",dial_code:"+1684",code:"AS"},{name:"Andorra",dial_code:"+376",code:"AD"},{name:"Angola",dial_code:"+244",code:"AO"},{name:"Anguilla",dial_code:"+1264",code:"AI"},{name:"Antarctica",dial_code:"+672",code:"AQ"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG"},{name:"Argentina",dial_code:"+54",code:"AR"},{name:"Armenia",dial_code:"+374",code:"AM"},{name:"Aruba",dial_code:"+297",code:"AW"},{name:"Australia",dial_code:"+61",code:"AU"},{name:"Austria",dial_code:"+43",code:"AT"},{name:"Azerbaijan",dial_code:"+994",code:"AZ"},{name:"Bahamas",dial_code:"+1242",code:"BS"},{name:"Bahrain",dial_code:"+973",code:"BH"},{name:"Bangladesh",dial_code:"+880",code:"BD"},{name:"Barbados",dial_code:"+1246",code:"BB"},{name:"Belarus",dial_code:"+375",code:"BY"},{name:"Belgium",dial_code:"+32",code:"BE"},{name:"Belize",dial_code:"+501",code:"BZ"},{name:"Benin",dial_code:"+229",code:"BJ"},{name:"Bermuda",dial_code:"+1441",code:"BM"},{name:"Bhutan",dial_code:"+975",code:"BT"},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA"},{name:"Botswana",dial_code:"+267",code:"BW"},{name:"Brazil",dial_code:"+55",code:"BR"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN"},{name:"Bulgaria",dial_code:"+359",code:"BG"},{name:"Burkina Faso",dial_code:"+226",code:"BF"},{name:"Burundi",dial_code:"+257",code:"BI"},{name:"Cambodia",dial_code:"+855",code:"KH"},{name:"Cameroon",dial_code:"+237",code:"CM"},{name:"Canada",dial_code:"+1",code:"CA"},{name:"Cape Verde",dial_code:"+238",code:"CV"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY"},{name:"Central African Republic",dial_code:"+236",code:"CF"},{name:"Chad",dial_code:"+235",code:"TD"},{name:"Chile",dial_code:"+56",code:"CL"},{name:"China",dial_code:"+86",code:"CN"},{name:"Christmas Island",dial_code:"+61",code:"CX"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC"},{name:"Colombia",dial_code:"+57",code:"CO"},{name:"Comoros",dial_code:"+269",code:"KM"},{name:"Congo",dial_code:"+242",code:"CG"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD"},{name:"Cook Islands",dial_code:"+682",code:"CK"},{name:"Costa Rica",dial_code:"+506",code:"CR"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI"},{name:"Croatia",dial_code:"+385",code:"HR"},{name:"Cuba",dial_code:"+53",code:"CU"},{name:"Cyprus",dial_code:"+357",code:"CY"},{name:"Czech Republic",dial_code:"+420",code:"CZ"},{name:"Denmark",dial_code:"+45",code:"DK"},{name:"Djibouti",dial_code:"+253",code:"DJ"},{name:"Dominica",dial_code:"+1767",code:"DM"},{name:"Dominican Republic",dial_code:"+1849",code:"DO"},{name:"Ecuador",dial_code:"+593",code:"EC"},{name:"Egypt",dial_code:"+20",code:"EG"},{name:"El Salvador",dial_code:"+503",code:"SV"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ"},{name:"Eritrea",dial_code:"+291",code:"ER"},{name:"Estonia",dial_code:"+372",code:"EE"},{name:"Ethiopia",dial_code:"+251",code:"ET"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK"},{name:"Faroe Islands",dial_code:"+298",code:"FO"},{name:"Fiji",dial_code:"+679",code:"FJ"},{name:"Finland",dial_code:"+358",code:"FI"},{name:"France",dial_code:"+33",code:"FR"},{name:"French Guiana",dial_code:"+594",code:"GF"},{name:"French Polynesia",dial_code:"+689",code:"PF"},{name:"Gabon",dial_code:"+241",code:"GA"},{name:"Gambia",dial_code:"+220",code:"GM"},{name:"Georgia",dial_code:"+995",code:"GE"},{name:"Germany",dial_code:"+49",code:"DE"},{name:"Ghana",dial_code:"+233",code:"GH"},{name:"Gibraltar",dial_code:"+350",code:"GI"},{name:"Greece",dial_code:"+30",code:"GR"},{name:"Greenland",dial_code:"+299",code:"GL"},{name:"Grenada",dial_code:"+1473",code:"GD"},{name:"Guadeloupe",dial_code:"+590",code:"GP"},{name:"Guam",dial_code:"+1671",code:"GU"},{name:"Guatemala",dial_code:"+502",code:"GT"},{name:"Guernsey",dial_code:"+44",code:"GG"},{name:"Guinea",dial_code:"+224",code:"GN"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW"},{name:"Guyana",dial_code:"+595",code:"GY"},{name:"Haiti",dial_code:"+509",code:"HT"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA"},{name:"Honduras",dial_code:"+504",code:"HN"},{name:"Hong Kong",dial_code:"+852",code:"HK"},{name:"Hungary",dial_code:"+36",code:"HU"},{name:"Iceland",dial_code:"+354",code:"IS"},{name:"India",dial_code:"+91",code:"IN"},{name:"Indonesia",dial_code:"+62",code:"ID"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR"},{name:"Iraq",dial_code:"+964",code:"IQ"},{name:"Ireland",dial_code:"+353",code:"IE"},{name:"Isle of Man",dial_code:"+44",code:"IM"},{name:"Israel",dial_code:"+972",code:"IL"},{name:"Italy",dial_code:"+39",code:"IT"},{name:"Jamaica",dial_code:"+1876",code:"JM"},{name:"Japan",dial_code:"+81",code:"JP"},{name:"Jersey",dial_code:"+44",code:"JE"},{name:"Jordan",dial_code:"+962",code:"JO"},{name:"Kazakhstan",dial_code:"+77",code:"KZ"},{name:"Kenya",dial_code:"+254",code:"KE"},{name:"Kiribati",dial_code:"+686",code:"KI"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR"},{name:"Kuwait",dial_code:"+965",code:"KW"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG"},{name:"Laos",dial_code:"+856",code:"LA"},{name:"Latvia",dial_code:"+371",code:"LV"},{name:"Lebanon",dial_code:"+961",code:"LB"},{name:"Lesotho",dial_code:"+266",code:"LS"},{name:"Liberia",dial_code:"+231",code:"LR"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY"},{name:"Liechtenstein",dial_code:"+423",code:"LI"},{name:"Lithuania",dial_code:"+370",code:"LT"},{name:"Luxembourg",dial_code:"+352",code:"LU"},{name:"Macao",dial_code:"+853",code:"MO"},{name:"Macedonia",dial_code:"+389",code:"MK"},{name:"Madagascar",dial_code:"+261",code:"MG"},{name:"Malawi",dial_code:"+265",code:"MW"},{name:"Malaysia",dial_code:"+60",code:"MY"},{name:"Maldives",dial_code:"+960",code:"MV"},{name:"Mali",dial_code:"+223",code:"ML"},{name:"Malta",dial_code:"+356",code:"MT"},{name:"Marshall Islands",dial_code:"+692",code:"MH"},{name:"Martinique",dial_code:"+596",code:"MQ"},{name:"Mauritania",dial_code:"+222",code:"MR"},{name:"Mauritius",dial_code:"+230",code:"MU"},{name:"Mayotte",dial_code:"+262",code:"YT"},{name:"Mexico",dial_code:"+52",code:"MX"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM"},{name:"Moldova",dial_code:"+373",code:"MD"},{name:"Monaco",dial_code:"+377",code:"MC"},{name:"Mongolia",dial_code:"+976",code:"MN"},{name:"Montenegro",dial_code:"+382",code:"ME"},{name:"Montserrat",dial_code:"+1664",code:"MS"},{name:"Morocco",dial_code:"+212",code:"MA"},{name:"Mozambique",dial_code:"+258",code:"MZ"},{name:"Myanmar",dial_code:"+95",code:"MM"},{name:"Namibia",dial_code:"+264",code:"NA"},{name:"Nauru",dial_code:"+674",code:"NR"},{name:"Nepal",dial_code:"+977",code:"NP"},{name:"Netherlands",dial_code:"+31",code:"NL"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN"},{name:"New Caledonia",dial_code:"+687",code:"NC"},{name:"New Zealand",dial_code:"+64",code:"NZ"},{name:"Nicaragua",dial_code:"+505",code:"NI"},{name:"Niger",dial_code:"+227",code:"NE"},{name:"Nigeria",dial_code:"+234",code:"NG"},{name:"Niue",dial_code:"+683",code:"NU"},{name:"Norfolk Island",dial_code:"+672",code:"NF"},{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP"},{name:"Norway",dial_code:"+47",code:"NO"},{name:"Oman",dial_code:"+968",code:"OM"},{name:"Pakistan",dial_code:"+92",code:"PK"},{name:"Palau",dial_code:"+680",code:"PW"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS"},{name:"Panama",dial_code:"+507",code:"PA"},{name:"Papua New Guinea",dial_code:"+675",code:"PG"},{name:"Paraguay",dial_code:"+595",code:"PY"},{name:"Peru",dial_code:"+51",code:"PE"},{name:"Philippines",dial_code:"+63",code:"PH"},{name:"Pitcairn",dial_code:"+872",code:"PN"},{name:"Poland",dial_code:"+48",code:"PL"},{name:"Portugal",dial_code:"+351",code:"PT"},{name:"Puerto Rico",dial_code:"+1939",code:"PR"},{name:"Qatar",dial_code:"+974",code:"QA"},{name:"Romania",dial_code:"+40",code:"RO"},{name:"Russia",dial_code:"+7",code:"RU"},{name:"Rwanda",dial_code:"+250",code:"RW"},{name:"Reunion",dial_code:"+262",code:"RE"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH"},{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN"},{name:"Saint Lucia",dial_code:"+1758",code:"LC"},{name:"Saint Martin",dial_code:"+590",code:"MF"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM"},{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC"},{name:"Samoa",dial_code:"+685",code:"WS"},{name:"San Marino",dial_code:"+378",code:"SM"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST"},{name:"Saudi Arabia",dial_code:"+966",code:"SA"},{name:"Senegal",dial_code:"+221",code:"SN"},{name:"Serbia",dial_code:"+381",code:"RS"},{name:"Seychelles",dial_code:"+248",code:"SC"},{name:"Sierra Leone",dial_code:"+232",code:"SL"},{name:"Singapore",dial_code:"+65",code:"SG"},{name:"Slovakia",dial_code:"+421",code:"SK"},{name:"Slovenia",dial_code:"+386",code:"SI"},{name:"Solomon Islands",dial_code:"+677",code:"SB"},{name:"Somalia",dial_code:"+252",code:"SO"},{name:"South Africa",dial_code:"+27",code:"ZA"},{name:"South Sudan",dial_code:"+211",code:"SS"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS"},{name:"Spain",dial_code:"+34",code:"ES"},{name:"Sri Lanka",dial_code:"+94",code:"LK"},{name:"Sudan",dial_code:"+249",code:"SD"},{name:"Suriname",dial_code:"+597",code:"SR"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ"},{name:"Swaziland",dial_code:"+268",code:"SZ"},{name:"Sweden",dial_code:"+46",code:"SE"},{name:"Switzerland",dial_code:"+41",code:"CH"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY"},{name:"Taiwan",dial_code:"+886",code:"TW"},{name:"Tajikistan",dial_code:"+992",code:"TJ"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ"},{name:"Thailand",dial_code:"+66",code:"TH"},{name:"Timor-Leste",dial_code:"+670",code:"TL"},{name:"Togo",dial_code:"+228",code:"TG"},{name:"Tokelau",dial_code:"+690",code:"TK"},{name:"Tonga",dial_code:"+676",code:"TO"},{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT"},{name:"Tunisia",dial_code:"+216",code:"TN"},{name:"Turkey",dial_code:"+90",code:"TR"},{name:"Turkmenistan",dial_code:"+993",code:"TM"},{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC"},{name:"Tuvalu",dial_code:"+688",code:"TV"},{name:"Uganda",dial_code:"+256",code:"UG"},{name:"Ukraine",dial_code:"+380",code:"UA"},{name:"United Arab Emirates",dial_code:"+971",code:"AE"},{name:"United Kingdom",dial_code:"+44",code:"GB"},{name:"United States",dial_code:"+1",code:"US"},{name:"Uruguay",dial_code:"+598",code:"UY"},{name:"Uzbekistan",dial_code:"+998",code:"UZ"},{name:"Vanuatu",dial_code:"+678",code:"VU"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE"},{name:"Vietnam",dial_code:"+84",code:"VN"},{name:"Virgin Islands, British",dial_code:"+1284",code:"VG"},{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF"},{name:"Yemen",dial_code:"+967",code:"YE"},{name:"Zambia",dial_code:"+260",code:"ZM"},{name:"Zimbabwe",dial_code:"+263",code:"ZW"}],M=(e,a)=>{const n=JSON.parse(JSON.stringify(e)),t=e=>null===e.pricingPoint.rebillPrice,i=e=>{for(let a=0;a<e.parentElement.children.length;a++)if(e.parentElement.children[a].classList.contains("selected"))return a},r=(e,a)=>{for(let n=0;n<e.length;n++)n===a&&(e[n].classList.add("selected"),e[n].querySelector(".product-header i").className="fa-solid fa-circle-check")},c=n.campaign.offers[0].offerItems,o=c.some(t),d=[],s=[],l=n.id,u=v.init().baseUrl,m=D.cleanUp()?u+"sessions/update/order"+D.cleanUp():u+"sessions/update/order",p={userSessionId:l,offerIndex:0,offerItemId:null,productVariant:null},y=!0,g=n.campaign.subdomain.includes("-")?n.campaign.subdomain.split(["-"])[1]:n.campaign.subdomain,f=x.find((e=>e.subdomain===g));c.sort(((e,a)=>e.product.sku.localeCompare(a.product.sku)));for(let v=0;v<c.length;v++)o?c[v].pricingPoint.rebillPrice?s.push(c[v]):d.push(c[v]):c[v-1]&&(c[v].pricingPoint.trialPrice>c[v-1].pricingPoint.trialPrice&&s.push(c[v]),d.push(c[v]));const h=(e,a)=>{const n=e/100,t=e-a;return Math.round(t/n)};let S;document.getElementById("products-list")?document.getElementById("products-list").innerHTML=d.map(((e,t)=>`<li\n             class="list-group-item product"\n             >\n                <div class="container product-header">\n                    <div class="row justify-content-between no-gutters">\n                      <div class="col-1">\n                        <i class="fa-regular fa-circle icon"></i>\n                      </div>\n                      <div class="col-6 header-content">\n                        <span>${h(f["marketPrice"][t],e.pricingPoint.trialPrice)+"% "+a["off-discount"]+": "}</span>\n                          <span>${f["productsAliasName"][t]}</span>\n                          <span>(${a["normally"]+" "+("USD"===n.campaign.currency?"$":n.campaign.currency)+f["marketPrice"][t]})\n                          </span>\n                      </div>\n                      <div class="col-5">\n                        <div class="float-right text-right shipping-info">\n                          <span class="line-through">${("USD"===n.campaign.currency?"$":n.campaign.currency)+f["shippingPrice"][t]}</span>\n                          <span class="featured-content">\n                            ${("USD"===n.campaign.currency?"$":n.campaign.currency)+(0===t?e.pricingPoint.trialPrice:e.pricingPoint.trialPrice/f["qty"][t])+' <br class="d-xl-none d-lg-none d-md-none d-sm-block d-xs-block" />'+a["each-including"]}\n                            <span class="d-block text-uppercase">${a["free-shipping"]}</span>\n                          </span>\n                          <span></span>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n      </li>`)).join(""):console.error("Couldn't find the DOM element to map and populate the products in HTML");const b=document.getElementById("insuredProductCheckbox"),U=document.querySelector(".display-price-container"),P=document.querySelectorAll(".product-name"),_=document.querySelectorAll(".product-heading"),I=document.getElementById("roas-terms-text"),E=document.querySelector(".loader-wrapper"),C=()=>{E.classList.remove("loader-wrapper-products"),document.body.classList.remove("no-scroll")},w=document.querySelectorAll(".splide__slide img");if(w)for(let v=0;v<w.length;v++)w[v].setAttribute("src",`https://images.${n.userOffers[0].selectedMerchant.shopDomain}/${f["sliderImages"][v]}`);const A=document.getElementById("paceholder-country-input");A&&"us"===n.country&&(A.textContent="United States");const k=(e,t,i,r,c)=>{T.updateOrder(m,p).then((o=>{D.decrypteResponse(o).then((()=>{c instanceof Function&&c(i,r),S=r,P&&P.forEach((i=>{i.textContent=e[r].product.name,f["productsAliasName"]&&(i.textContent=h(f["marketPrice"][r],n.campaign.isPreCheckedPaymentPageCheckbox?t[r].pricingPoint.trialPrice:e[r].pricingPoint.trialPrice)+"% "+a["off-discount"]+": "+f["productsAliasName"][r]+" ("+a["normally"]+" "+("USD"===n.campaign.currency?"$":n.campaign.currency)+f["marketPrice"][r]+")")})),_&&_.forEach((a=>{a.textContent=e[r].product.name,f["productInfo"]&&(a.textContent=f["productInfo"].en.title)})),U&&(U.textContent=("USD"===n.campaign.currency?"$":n.campaign.currency)+t[r].pricingPoint.trialPrice),I.querySelector(".insurancePriceValue").textContent=t[r].pricingPoint.rebillPrice,I.querySelector(".insuranceRebillDays").textContent=t[r].pricingPoint.rebillPeriodInDays,I.querySelector(".insuranceInitialDays").textContent=t[r].pricingPoint.trialPeriodInDays,C()}))})).catch((e=>D.decrypteResponse(e).then((e=>{console.error("Error",e)}))))},M=e=>{if(!(e>=0&&e<=d.length))throw new Error("Couldn't pre-select a product. Make sure the index you pass is equal and not less than 0, and also not bigger than the products array length");n.campaign.isPreCheckedPaymentPageCheckbox?(p["offerItemId"]=s[e].id,b.checked=!0):p["offerItemId"]=d[e].id,I.insertAdjacentHTML("afterbegin",`${a["roas-terms-text-header"]}`),k(d,s,N,e,r);for(let n=0;n<N.length;n++)if(n===e){const e=N[n];e.classList.add("featured-product"),e.querySelector(".header-content").insertAdjacentHTML("afterbegin",`<span class="font-weight-bold">${a["best-seller"]}</span>`),e.querySelector(".featured-content").classList.add("font-weight-bold")}},N=document.querySelectorAll(".product");N?(M(1),N.forEach((e=>{e.addEventListener("click",(function(){N.forEach((e=>{e.classList.contains("selected")&&(e.classList.remove("selected"),e.querySelector(".product-header i").className="fa-regular fa-circle")})),this.classList.contains("selected")||(b.checked=!1,this.classList.add("selected"),S=[i(this)][0],y&&n.campaign.isPreCheckedPaymentPageCheckbox?(b.checked=!0,p["offerItemId"]=s[i(this)].id):p["offerItemId"]=d[i(this)].id,E.classList.add("loader-wrapper-products"),document.body.classList.add("no-scroll"),k(d,s,N,i(this),r))}))})),b.addEventListener("click",(function(){this.checked?(p["offerItemId"]=s[S].id,E.classList.add("loader-wrapper-products"),document.body.classList.add("no-scroll"),k(d,s,N,S,r)):(p["offerItemId"]=d[S].id,E.classList.add("loader-wrapper-products"),document.body.classList.add("no-scroll"),k(d,s,N,S,r))}))):console.error("Error: Make sure the class name is used for each product for the mapped HTML exist.");const O=async()=>{fetch("https://ipinfo.io/json?token=bd55c7ae34a9ef").then((e=>e.json())).then((e=>{const a=document.querySelectorAll(".flag-icon");a.forEach((a=>{a.setAttribute("src",`https://countryflagsapi.com/svg/${e.country.toLowerCase()}`)}));const n=document.getElementById("country-code");for(const t in R)Object.hasOwnProperty.call(R,t)&&R[t].code===e.country&&n.insertAdjacentHTML("beforeend",`${R[t].dial_code}`)}))};O()},N=[{geoID:"fr",geoStateArr:["Auvergne-Rhône-Alpes","Bourgogne-Franche-Comté","Saint Barthélemy","Bretagne","Corse","Clipperton","Centre-Val de Loire","Grand Est","Guyane","Guadeloupe","Hauts-de-France","Île-de-France","Saint Martin","Martinique","Nouvelle-Aquitain","Novelle-Calédonie","Normandie","Occitanie","Provence-Alpes-Cote d'Azur","Pays de la Loire","Polynésie","Saint-Pierre-et-Miquelon","Réunion","Terres Australes Françaises","Wallis-et-Futuna","Mayotte"]},{geoID:"us",geoStateArr:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{geoID:"it",geoStateArr:["Agrigento","Alessandria","Ancona","Aosta","Arezzo","Ascoli Piceno","Asti","Avellino","Bari","Barletta-Andria-Trani","Belluno","Benevento","Bergamo","Biella","Bologna","Bolzano","Brescia","Brindisi","Cagliari","Caltanissetta","Campobasso","Caserta","Catania","Catanzaro","Chieti","Como","Cosenza","Cremona","Crotone","Cuneo","Enna","Fermo","Ferrara","Firenze","Foggia","Forlì-Cesena","Frosinone","Genova","Gorizia","Grosseto","Imperia","Isernia","L’aquila","La spezia","Latina","Lecce","Lecco","Livorno","Lodi","Lucca","Macerata","Mantova","Massa-Carrara","Matera","Messina","Milano","Modena","Monza e Brianza","Napoli","Novara","Nuoro","Oristano","Padova","Palermo","Parma","Pavia","Perugia","Pesaro e Urbino","Pescara","Piacenza","Pisa","Pistoia","Pordenone","Potenza","Prato","Ragusa","Ravenna","Reggio Calabria","Reggio Emilia","Rieti","Rimini","Roma","Rovigo","Salerno","Sassari","Savona","Siena","Siracusa","Sondrio","Sud ","Sardegna","Taranto","Teramo","Terni","Torino","Trapani","Trento","Treviso","Trieste","Udine","Varese","Venezia","Verbano-Cusio-Ossola","Vercelli","Verona","Vibo valentia","Vicenza","Viterbo"]}],O=(e,a)=>{const n=JSON.parse(JSON.stringify(e)),t=n.country,i=document.getElementById("state");function r(){for(const n in N)if(Object.hasOwnProperty.call(N,n)&&N[n].geoID===t)for(var e=0;e<N[n].geoStateArr.length;e++){var a=document.createElement("option");a.setAttribute("value",N[n].geoStateArr[e]),a.innerHTML=N[n].geoStateArr[e],i.insertAdjacentElement("beforeend",a)}}t?r():i.remove()};var L=n(7387);const B=(e,a)=>{var n=window.sessionStorage.getItem("__authSubmit");const t=function(){var e=localStorage.getItem("CLEAN");return e||!1};function i(e,a){"object"==typeof newrelic&&e&&a&&window.newrelic.addPageAction(e,a)}a&&a.addEventListener("click",(function(a){a.preventDefault();const r=e.exitSale();r.postInfo.sessionId?(f.eventHandler("paymentInProgress","show"),L(".wait-btn-text").removeClass("hide-text"),L(".submit-btn-text").addClass("hide-text"),L(".gtw_default").prop("disabled",!0),L.ajax({url:r.apiUrlPayment,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(r.postInfo),success:function(e){D.decrypteResponse(e).then((function(e){if(i("oneClickPayment",{paymentPageID:r.paymentPageID,approvedPageUrl:r.approvedPageUrl,clicked:!0}),"production"!==b.index&&console.log("POST: payment response: ",e),"3DS_PROCESS_INITIATED"===e.status){var a;2===e.threeDsVersion?(document.getElementById("dataCollectionForm").setAttribute("action",e.deviceCollectionUrl),document.getElementById("deviceCollectionJwt").setAttribute("value",e.deviceCollectionJwt),document.getElementById("dataCollectionForm").submit(),a=e.expectedCardinalResponseDomain):1===e.threeDsVersion&&console.warn("3dsV1 not supported");var c=!1;window.addEventListener("message",(function(e){if(console.log("listener triggered"),e.origin===a){var o=JSON.parse(e.data);if(console.info("Merchant received a message:",o),void 0!==o&&o.Status){console.info("Cardinal DF status successful.  Trying to obtain DF reference ID");let e=o.SessionId;console.info("Cardinal DF ID: "+e);var d={threeDsLookupParameters:{deviceFingerprintingId:e}},s=Object.assign(d,r.postInfo);if(!1===c){c=!0;var l=t()?r.apiUrlPayment+"/3ds_lookup"+t():r.apiUrlPayment+"/3ds_lookup";L.ajax({url:l,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(s),success:function(e){return D.decrypteResponse(e).then((function(e){"production"!==b.index&&console.log("POST: payment/3ds_lookup response: ",e),"3DS_AUTHENTICATION_REQUIRED"===e.status?2!==e.threeDsVersion||n?1!==e.threeDsVersion||n||console.warn("3dsV1 not supported"):(window.sessionStorage.setItem("__authSubmit","3DsV2"),document.getElementById("stepUpForm").setAttribute("action",e.stepUpUrl),document.getElementById("stepUpJwt").value=e.stepUpJwt,document.getElementById("merchantData").setAttribute("value",encodeURIComponent(JSON.stringify({transactionId:e.transactionId}))),document.getElementById("stepUpForm").submit()):"PURCHASE_SUCCESS"===e.status&&(i("oneClickPayment",{paymentPageID:r.paymentPageID,approvedPageUrl:r.approvedPageUrl,pay3ds:"PURCHASE_SUCCESS"}),setTimeout((function(){window.location.href=r.approvedPageUrl}),1500))})),!1},error:function(e){return D.decrypteResponse(e.responseJSON).then((function(e){console.error("Payment 3ds Error: ",e)})),!1}}).then((function(){c=!0}))}}else console.error("Cardinal data element is undefined or the status is false")}else console.error("event.origin is not what we expected for Cardinal: "+e.origin)}),!1)}else"PURCHASE_SUCCESS"===e.status&&(i("oneClickPayment",{paymentPageID:r.paymentPageID,approvedPageUrl:r.approvedPageUrl,none3ds:"PURCHASE_SUCCESS"}),setTimeout((function(){window.location.href=r.approvedPageUrl}),1500))}))},error:function(){window.location.href=r.approvedPageUrl}})):(console.warn("Session expired"),i("oneClickPayment",{session:"undefined",clicked:!0}))}),{once:!0})};var j=n(7387);const F=(e,a)=>{var n=j("#prod-list-wrap"),t="";e.forEach((function(e){var n="main-product",i="product-wrap",r=e.product.name,c=r.split("-")[0],o=r.split("-")[1];e.product.sku.includes("PROTEC")||(t+=`<div class="${i}" id="${n}">\n                <div class="product-img">\n                    <img src="${e.product.image}"/>\n                </div>\n                <div class="product-content">\n                    <div class="product-name">\n                        <h5>${c}</h5>\n                        <span>QTY: ${o}</span>\n                    </div>\n                    <h5 class="total product-price">\n                        <span class="displayCurrency">${a}</span><span class="amount">${e.pricingPoint.trialPrice}</span> \n                    </h5>\n                </div>\n            </div>`)})),n.html(t)},V=e=>{var a=j(".customer-email p"),n=j(".customer-address p"),t=e.prospect.address,i=j(".terms-heading");i.text(`${e.userOffers[0].selectedMerchant.brand.domain.split(".")[0]} VIP`),a.text(e.prospect.email),n.text(`${t.street}, ${t.city}, ${t.state?t.state+",":""} ${t.country}, ${t.postcode}`)};var G=n(7387);const q=()=>{G(document).ready((function(){e()}));var e=function(){var e=function(e){return e.value="",e.classList.remove("parsley-success"),e.classList.add("parsley-error"),!1},n=document.getElementById("month"),t=new Date,i=t.getMonth()+1,r=Number(t.getFullYear().toString().slice(-2));(function(){document.getElementById("ccyear")&&document.getElementById("ccyear").addEventListener("change",(function(a){var t,c=Number(a.target.value);c&&c===r&&(n.value.startsWith("0")&&(t=Number(n.value.split("0")[1]),t<i&&e(n)),n.value.startsWith("1")&&(t=Number(n.value),t<i&&e(n)))}))})(),window.Parsley.addValidator("creditcard",{validateString:function(e){var a=/^(?:4[0-9]{12}(?:[0-9]{3})?)$/,n=/^5[1-5][0-9]{14}|^2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12})$/;return!!a.test(e)||!!n.test(e)}}).addValidator("ccCvv",{validateString:function(e){var a=/^[0-9]{3}$/;return!!a.test(e)}}).addValidator("ccExpiresMonth",{validateString:function(a){var t,c,o=document.getElementById("ccyear"),d=Number(o.options[o.selectedIndex].value);return a.startsWith("0")&&(c=Number(a.split("0")[1]),d===r&&c>=i&&(t=!0),d===r&&c<i&&(e(n),t=!1)),a.startsWith("1")&&(c=Number(a),d===r&&c>=i&&(t=!0),d===r&&c<i&&(e(n),t=!1)),t}}).addValidator("ccExpiresYear",{validateString:function(e){return a(e)}}).addValidator("termsCheckbox",{validateMultiple:function(e){if("on"===e[0])return!0}})},a=function(e){var a=(new Date).getFullYear(),n=10,t=parseInt(e),i=parseInt(a.toString().substr(2,2)),r=parseInt(i+n);return t&&t>=i&&t<r};window.Parsley.addValidator("firstname",{validateString:function(e){const a=/^[^\u0021-\u0040\u005B-\u0060\u007B-\u007E]*$/;return a.test(e)}}).addValidator("lastname",{validateString:function(e){const a=/^[^\u0021-\u0040\u005B-\u0060\u007B-\u007E]*$/;return a.test(e)}}).addValidator("address",{validateString:function(e){const a=/[A-Za-z0-9',\-\sæøåäöÆØÅÄÖàâäèéêëîïôœùûüÿçÀÂÄÈÉÊËÎÏÔŒÙÛÜŸÇẞßĄąĆćĘęŁłŃńÓóŚśŹźŻżÑñ]+/i;return a.test(e)}}).addValidator("zip",{validateString:function(e){const a=/^[A-Za-z0-9\-\s]*$/i;return a.test(e)}}).addValidator("phone",{requirementType:"string",validateString:function(e){const a=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s/0-9]*$/;return a.test(e)}}),G("input[name=firstname]").parsley({maxlength:32,minlength:2}),G("input[name=lastname]").parsley({maxlength:32,minlength:2}),G("input[name=address]").parsley({maxlength:128,minlength:2}),G("input[name=city]").parsley({maxlength:32,minlength:2}),G("input[name=zipcode]").parsley({maxlength:20,minlength:2}),G("input[name=phone]").parsley({maxlength:32}),G("input[name=email]").parsley({maxlength:128}),G("input[name=state]")&&G("input[name=state]").parsley({maxlength:20,minlength:2}),G("input[name=address2]")&&G("input[name=address2]").parsley({maxlength:128,minlength:2}),"zh"==G("html").attr("lang")&&(G("input[name=firstname]").parsley({minlength:1}),G("input[name=lastname]").parsley({minlength:1}))};var H={init:e=>{const a={sid:null,subdomain:null,campaignEntityId:null,campaignVerticalId:null,campaignGeo:null,exitSale:!1,openCampaign:null,offerId:null,affiliateId:null,subAffiliate:null,subAffiliate2:null,subAffiliate3:null,cpaSalvage:null,firstTimeSubmit:!1,firstName:null,lastName:null,email:null,phone:null,address:null,userCity:null,userCountry:null,state:null,ipAddress:null,zeroBounceEmailFaild:!1,validSubmition:!1,formSubmit:!1,reasonCode:null,paymentFormSubmit:!1,paymentPageId:null,none3ds:null,pay3ds:null,approvedPageUrl:null,bannerUrl:null,httpRequest:null,firstTimeInit:!1,isCpaSalvaged:!1,orderState:null,exitBannerClicked:!1,xsell:!1},n=a=>{"object"==typeof newrelic&&window.newrelic.addPageAction(a,e)};return{postData:a,event:n}},appendNewrelicScript:()=>{if("production"===b.index){const e=document.createElement("script");e.type="text/javascript",e.src="/core/build/js/new_relic.js",document.getElementsByTagName("head")[0].appendChild(e)}}},z=n(7387);q();const J=()=>{const e=!0;H.appendNewrelicScript();var a=function(){let a=H.init().postData;const n=v.init().baseUrl;var t,i,r,c,o,d,s,l,u,m,y=[4006,4007,4021,4022,4023,4024,4025,4026,4027,4029,4030,4031,4032,5001],g=[4009,4010,4011,4012],h=!1,S=[],U=!1;const P=_.create,I=_.get;var E=function(e,a){e.setAttribute("href",a),e.setAttribute("target","_blank")},C=function(e){e.classList.remove("parsley-error"),e.classList.add("parsley-success")},w=function(e){e.classList.remove("parsley-success"),e.classList.add("parsley-error")};const A=new URLSearchParams(window.location.search);var k=function(e){var a=e.map((function(e){return document.getElementById(e)}));a.forEach((function(e){e&&("SELECT"===e.nodeName&&(e.selectedIndex=0),"INPUT"===e.nodeName&&(e.value=""),"checkbox"===e.type&&(e.checked=!1))}))},x=function(e){var a=y.find((function(a){return a===e.reasonCode}));a&&(N(!1),console.log("redirectOnReasonCode:",e),ta("cpaSalvagePaymentPage",{reasonCode:e.reasonCode}),setTimeout((function(){e.cpaSalvageUrl?window.location.href=e.cpaSalvageUrl:window.location.href=t}),800))},R=function(e,a){return e.indexOf(a)>-1},N=function(e){return!0===e?window.onbeforeunload=function(e){return e=e||window.event,e&&(e.returnValue="Sure?"),"Sure?"}:!1===e?window.onbeforeunload=null:void 0};const L=T.paymentUrlPrefix;var B=function(e,a,n){a.order&&"SUCCESSFUL"===a.order.state&&(ta("paymentPageInit",{payment:"SUCCESSFUL"}),N(!1),setTimeout((function(){window.location.href=n}),800))};const j=T.id;let G,q="en";const J=new Date,$=J.getFullYear();let K,W,Y,Z,X,Q,ee;f.init(document.querySelector("body"));const ae=e=>null===e.pricingPoint.rebillPrice;function ne(e){switch(e){case"au":case"ca":case"us":case"nz":K="&#36;",W=ue;break;case"br":K="R&#36;",W=6*ue;break;case"cl":K="CLP",Q=835*ue,W=Math.floor(Q);break;case"cz":K="K&ccaron;",W=28*ue;break;case"se":case"no":K="&#8239;kr",W=ue;break;case"dk":K="kr.",W=ue;break;case"in":K="&#x20B9;",Q=75*ue,W=Math.floor(Q);break;case"id":K="Rp",W=15*ue;break;case"at":case"be":case"ie":case"it":case"lu":case"si":case"es":case"nl":case"fr":case"pt":case"gr":K="&#128;",W=ue;break;case"fi":case"de":K="&puncsp;&#128;",W=ue;break;case"gb":K="&pound;",W=ue;break;case"hu":K="&puncsp;Ft",W=380*ue;break;case"il":K="&#8362;",W=3.5*ue;break;case"jp":K="&#20870;",W=ue;break;case"my":K="RM",W=5*ue;break;case"ph":K="&#8369;",1.5===ue?W=73:2===ue?W=97:(Q=48*ue,W=Math.floor(Q));break;case"pl":K="z&#0322;",W=5*ue;break;case"ro":K="Lei",W=5*ue;break;case"sa":K="SAR",W=4*ue;break;case"za":K="R",W=20*ue;break;case"ch":K="CHF",W="1.5"===ue||"2"===ue?2:ue;break;case"tw":K="NT&#36;",2===ue?W=57:(Q=29*ue,W=Math.floor(Q));break;case"th":K="&#3647;",W=32*ue;break;case"vn":K="&#8363;",W=24*ue;break;case"mx":K="&#36;",W=24*ue;break;case"kw":K="KWD&#160;",W=3===ue?'1<span class="deci">.000</span>':2===ue?.65:.31*ue;break;case"qa":K="QAR&#160;",3===ue?W='11<span class="deci">.00</span>':2===ue?W='7<span class="deci">.50</span>':(Q=3.64*ue,W=Math.floor(Q));break;case"hk":K="HK&#36;&#160;",3===ue?W='23<span class="deci">.9</span>':2===ue?W='15<span class="deci">.9</span>':(Q=7.9*ue,W=Q);break;default:K=ge,W=ue}"vn"===e?z(".displayPrice").html('<span class="price-container">'+W+".</span><sup>000</sup><span>"+K+"</span>"):"au"===e||"br"===e||"ca"===e||"cl"===e||"gb"===e||"in"===e||"il"===e||"my"===e||"ph"===e||"th"===e||"za"===e||"nz"===e||"us"===e||"ch"===e||"nl"===e||"at"===e||"ie"===e||"mx"===e||"hk"===e?z(".displayPrice").html("<span>"+K+'</span><span class="price-container">'+W+"</span>"):"id"===e?z(".displayPrice").html("<span>"+K+'</span><span class="price-container">'+W+".</span><sup>000</sup>"):z(".displayPrice").html('<span class="price-container">'+W+"</span><span>"+K+"</span>"),"66019"===G&&(z(".displayCurrency").html(K),"se"===e&&("EUR"===ge&&document.querySelectorAll(".displayCurrency").forEach((e=>e.nextSibling.before(e))),"SEK"===ge&&document.querySelectorAll(".displayCurrency").forEach((e=>e.nextSibling.after(e)))))}function te(e){switch(e){case"au":case"ca":case"us":case"nz":Y=ue/3,Z="30",X=ue+30;break;case"za":Y=W/3,Z="500",X=W+500;break}Y=Y.toFixed(2),X=X.toFixed(2),"za"===e?(W=W.toFixed(2),z(".displayPrice").html("<span>"+K+'</span><span class="price-container">'+W+"</span>"),z(".displayMonth").html("<span>R</span>"+Y),z(".displaySavings").html("<span>R</span>"+Z)):(z(".displayMonth").html(Y),z(".displaySavings").html(Z)),z(".displayStandardPrice").html(X)}function ie(e){var a=[{id:"ad",currency:{id:"USD"}},{id:"ae",currency:{id:"USD"}},{id:"af",currency:{id:"USD"}},{id:"ag",currency:{id:"USD"}},{id:"ai",currency:{id:"USD"}},{id:"al",currency:{id:"USD"}},{id:"am",currency:{id:"USD"}},{id:"ao",currency:{id:"USD"}},{id:"aq",currency:{id:"USD"}},{id:"ar",currency:{id:"USD"}},{id:"as",currency:{id:"USD"}},{id:"at",currency:{id:"EUR"}},{id:"au",currency:{id:"USD"}},{id:"aw",currency:{id:"USD"}},{id:"ax",currency:{id:"USD"}},{id:"az",currency:{id:"UYU"}},{id:"ba",currency:{id:"USD"}},{id:"bb",currency:{id:"USD"}},{id:"bd",currency:{id:"USD"}},{id:"be",currency:{id:"EUR"}},{id:"bf",currency:{id:"USD"}},{id:"bg",currency:{id:"USD"}},{id:"bh",currency:{id:"USD"}},{id:"bi",currency:{id:"USD"}},{id:"bj",currency:{id:"USD"}},{id:"bl",currency:{id:"USD"}},{id:"bm",currency:{id:"USD"}},{id:"bn",currency:{id:"USD"}},{id:"bo",currency:{id:"USD"}},{id:"bq",currency:{id:"USD"}},{id:"br",currency:{id:"USD"}},{id:"bs",currency:{id:"USD"}},{id:"bt",currency:{id:"USD"}},{id:"bv",currency:{id:"USD"}},{id:"bw",currency:{id:"USD"}},{id:"by",currency:{id:"USD"}},{id:"bz",currency:{id:"USD"}},{id:"ca",currency:{id:"USD"}},{id:"cc",currency:{id:"USD"}},{id:"cd",currency:{id:"USD"}},{id:"cf",currency:{id:"USD"}},{id:"cg",currency:{id:"USD"}},{id:"ch",currency:{id:"EUR"}},{id:"ci",currency:{id:"USD"}},{id:"ck",currency:{id:"USD"}},{id:"cl",currency:{id:"USD"}},{id:"cm",currency:{id:"USD"}},{id:"cn",currency:{id:"USD"}},{id:"co",currency:{id:"USD"}},{id:"cr",currency:{id:"USD"}},{id:"cu",currency:{id:"USD"}},{id:"cv",currency:{id:"USD"}},{id:"cw",currency:{id:"USD"}},{id:"cx",currency:{id:"USD"}},{id:"cy",currency:{id:"EUR"}},{id:"cz",currency:{id:"EUR"}},{id:"de",currency:{id:"EUR"}},{id:"dj",currency:{id:"USD"}},{id:"dk",currency:{id:"DKK"}},{id:"dm",currency:{id:"USD"}},{id:"do",currency:{id:"USD"}},{id:"dz",currency:{id:"USD"}},{id:"ec",currency:{id:"USD"}},{id:"ee",currency:{id:"EUR"}},{id:"eg",currency:{id:"USD"}},{id:"eh",currency:{id:"USD"}},{id:"er",currency:{id:"USD"}},{id:"es",currency:{id:"EUR"}},{id:"et",currency:{id:"USD"}},{id:"fi",currency:{id:"EUR"}},{id:"fj",currency:{id:"USD"}},{id:"fk",currency:{id:"USD"}},{id:"fm",currency:{id:"USD"}},{id:"fo",currency:{id:"USD"}},{id:"fr",currency:{id:"EUR"}},{id:"ga",currency:{id:"USD"}},{id:"gb",currency:{id:"GBP"}},{id:"gd",currency:{id:"USD"}},{id:"ge",currency:{id:"USD"}},{id:"gf",currency:{id:"USD"}},{id:"gg",currency:{id:"USD"}},{id:"gh",currency:{id:"USD"}},{id:"gi",currency:{id:"USD"}},{id:"gl",currency:{id:"USD"}},{id:"gm",currency:{id:"USD"}},{id:"gn",currency:{id:"USD"}},{id:"gp",currency:{id:"USD"}},{id:"gq",currency:{id:"USD"}},{id:"gr",currency:{id:"EUR"}},{id:"gs",currency:{id:"USD"}},{id:"gt",currency:{id:"USD"}},{id:"gu",currency:{id:"USD"}},{id:"gw",currency:{id:"USD"}},{id:"gy",currency:{id:"USD"}},{id:"hk",currency:{id:"USD"}},{id:"hm",currency:{id:"USD"}},{id:"hn",currency:{id:"USD"}},{id:"hr",currency:{id:"EUR"}},{id:"ht",currency:{id:"USD"}},{id:"hu",currency:{id:"EUR"}},{id:"id",currency:{id:"USD"}},{id:"ie",currency:{id:"EUR"}},{id:"il",currency:{id:"USD"}},{id:"im",currency:{id:"USD"}},{id:"in",currency:{id:"USD"}},{id:"io",currency:{id:"USD"}},{id:"iq",currency:{id:"USD"}},{id:"ir",currency:{id:"USD"}},{id:"is",currency:{id:"USD"}},{id:"it",currency:{id:"EUR"}},{id:"je",currency:{id:"USD"}},{id:"jm",currency:{id:"USD"}},{id:"jo",currency:{id:"USD"}},{id:"jp",currency:{id:"JPY"}},{id:"ke",currency:{id:"USD"}},{id:"kg",currency:{id:"USD"}},{id:"kh",currency:{id:"USD"}},{id:"ki",currency:{id:"USD"}},{id:"km",currency:{id:"USD"}},{id:"kn",currency:{id:"USD"}},{id:"kp",currency:{id:"USD"}},{id:"kr",currency:{id:"USD"}},{id:"kw",currency:{id:"USD"}},{id:"ky",currency:{id:"USD"}},{id:"kz",currency:{id:"USD"}},{id:"la",currency:{id:"USD"}},{id:"lb",currency:{id:"USD"}},{id:"lc",currency:{id:"USD"}},{id:"li",currency:{id:"USD"}},{id:"lk",currency:{id:"USD"}},{id:"lr",currency:{id:"USD"}},{id:"ls",currency:{id:"USD"}},{id:"lt",currency:{id:"USD"}},{id:"lu",currency:{id:"EUR"}},{id:"lv",currency:{id:"USD"}},{id:"ly",currency:{id:"USD"}},{id:"ma",currency:{id:"USD"}},{id:"mc",currency:{id:"USD"}},{id:"md",currency:{id:"USD"}},{id:"me",currency:{id:"USD"}},{id:"mf",currency:{id:"USD"}},{id:"mg",currency:{id:"USD"}},{id:"mh",currency:{id:"USD"}},{id:"mk",currency:{id:"USD"}},{id:"ml",currency:{id:"USD"}},{id:"mm",currency:{id:"USD"}},{id:"mn",currency:{id:"USD"}},{id:"mo",currency:{id:"USD"}},{id:"mp",currency:{id:"USD"}},{id:"mq",currency:{id:"USD"}},{id:"mr",currency:{id:"USD"}},{id:"ms",currency:{id:"USD"}},{id:"mt",currency:{id:"USD"}},{id:"mu",currency:{id:"USD"}},{id:"mv",currency:{id:"USD"}},{id:"mw",currency:{id:"USD"}},{id:"mx",currency:{id:"USD"}},{id:"my",currency:{id:"USD"}},{id:"mz",currency:{id:"USD"}},{id:"na",currency:{id:"USD"}},{id:"nc",currency:{id:"USD"}},{id:"ne",currency:{id:"USD"}},{id:"nf",currency:{id:"USD"}},{id:"ng",currency:{id:"USD"}},{id:"ni",currency:{id:"USD"}},{id:"nl",currency:{id:"EUR"}},{id:"no",currency:{id:"NOK"}},{id:"np",currency:{id:"USD"}},{id:"nr",currency:{id:"USD"}},{id:"nu",currency:{id:"USD"}},{id:"nz",currency:{id:"USD"}},{id:"om",currency:{id:"USD"}},{id:"pa",currency:{id:"USD"}},{id:"pe",currency:{id:"USD"}},{id:"pf",currency:{id:"USD"}},{id:"pg",currency:{id:"USD"}},{id:"ph",currency:{id:"USD"}},{id:"pk",currency:{id:"USD"}},{id:"pl",currency:{id:"EUR"}},{id:"pm",currency:{id:"USD"}},{id:"pn",currency:{id:"USD"}},{id:"pr",currency:{id:"USD"}},{id:"ps",currency:{id:"USD"}},{id:"pt",currency:{id:"EUR"}},{id:"pw",currency:{id:"USD"}},{id:"py",currency:{id:"USD"}},{id:"qa",currency:{id:"USD"}},{id:"re",currency:{id:"USD"}},{id:"ro",currency:{id:"USD"}},{id:"rs",currency:{id:"USD"}},{id:"ru",currency:{id:"USD"}},{id:"rw",currency:{id:"USD"}},{id:"sa",currency:{id:"USD"}},{id:"sb",currency:{id:"USD"}},{id:"sc",currency:{id:"USD"}},{id:"sd",currency:{id:"USD"}},{id:"se",currency:{id:"SEK"}},{id:"sg",currency:{id:"USD"}},{id:"sh",currency:{id:"USD"}},{id:"si",currency:{id:"EUR"}},{id:"sj",currency:{id:"USD"}},{id:"sk",currency:{id:"USD"}},{id:"sl",currency:{id:"USD"}},{id:"sm",currency:{id:"USD"}},{id:"sn",currency:{id:"USD"}},{id:"so",currency:{id:"USD"}},{id:"sr",currency:{id:"USD"}},{id:"ss",currency:{id:"USD"}},{id:"st",currency:{id:"USD"}},{id:"sv",currency:{id:"USD"}},{id:"sx",currency:{id:"USD"}},{id:"sy",currency:{id:"USD"}},{id:"sz",currency:{id:"USD"}},{id:"tc",currency:{id:"USD"}},{id:"td",currency:{id:"USD"}},{id:"tf",currency:{id:"USD"}},{id:"tg",currency:{id:"USD"}},{id:"th",currency:{id:"USD"}},{id:"tj",currency:{id:"USD"}},{id:"tk",currency:{id:"USD"}},{id:"tl",currency:{id:"USD"}},{id:"tm",currency:{id:"USD"}},{id:"tn",currency:{id:"USD"}},{id:"to",currency:{id:"USD"}},{id:"tr",currency:{id:"EUR"}},{id:"tt",currency:{id:"USD"}},{id:"tv",currency:{id:"USD"}},{id:"tw",currency:{id:"USD"}},{id:"tz",currency:{id:"USD"}},{id:"ua",currency:{id:"EUR"}},{id:"ug",currency:{id:"USD"}},{id:"um",currency:{id:"USD"}},{id:"us",currency:{id:"USD"}},{id:"uy",currency:{id:"USD"}},{id:"uz",currency:{id:"USD"}},{id:"va",currency:{id:"USD"}},{id:"vc",currency:{id:"USD"}},{id:"ve",currency:{id:"USD"}},{id:"vg",currency:{id:"USD"}},{id:"vi",currency:{id:"USD"}},{id:"vn",currency:{id:"USD"}},{id:"vu",currency:{id:"USD"}},{id:"wf",currency:{id:"USD"}},{id:"ws",currency:{id:"USD"}},{id:"ye",currency:{id:"USD"}},{id:"yt",currency:{id:"USD"}},{id:"za",currency:{id:"USD"}},{id:"zm",currency:{id:"USD"}},{id:"zw",currency:{id:"USD"}}];return a.find((function(a){return a.id===e}))}var re,ce,oe,de,se,le,ue,me,pe,ye,ge,fe,he,Se,be,ve,Ue=function(){for(var e=Number((new Date).getFullYear().toString().substr(-2)),a=e+10,n=e;n<a;n++)document.getElementById("ccyear")&&(document.getElementById("ccyear").innerHTML+='<option value="'+n+'">'+n+"</option>")},Pe=function(e,a){var n=document.createElement("img");n.src="https://h.online-metrix.net/fp/clear.png?org_id="+e+"&session_id="+a+"&m=2",n.width=1,n.height=1,n.alt="tm",n.id="tmImg",document.body.appendChild(n);var t=document.createElement("script");t.type="text/javascript",t.id="tmScript",t.src="https://h.online-metrix.net/fp/check.js?org_id="+e+"&session_id="+a+'&pageid=##PAGEID##"',t.text="",document.body.appendChild(t);var i=document.createElement("object");i.data="https://h.online-metrix.net/fp/fp.swf?org_id="+e+"&session_id="+a,i.type="application/x-shockwave-flash",i.width=1,i.id="tmFlash",i.height=1,i.innerHTML='<param name="movie" value="'+i.data+'" /> <param name="wmode" value="transparent" />',document.body.appendChild(i)};let De;var _e,Ie,Ee,Ce=window.sessionStorage.getItem("__authSubmit");function we(a,n){return z.ajax({async:!1,global:!1,url:`${e?"/core/build/":""}translations/i18n/${a}.json`,dataType:"json",success:function(e){re=e,ce=JSON.stringify(re);var t={"{{domain}}":se,"{{product}}":le,"{{initialPrice}}":ue,"{{initialDays}}":me,"{{rebillDays}}":pe,"{{subscriptionPrice}}":ye,"{{insurancePriceValue}}":Re,"{{insuranceRebillDays}}":Me,"{{insuranceInitialDays}}":Ne,"{{currency}}":ge,"{{year}}":$,"{{phone}}":fe,"{{xsellRebillPeriod}}":he,"{{xsellRebillPrice}}":Se,"{{xsellTrialPeriod}}":be,"{{xsellTrialPrice}}":ve};oe=ce.replace(/{{domain}}|{{product}}|{{initialPrice}}|{{initialDays}}|{{rebillDays}}|{{subscriptionPrice}}|{{insurancePriceValue}}|{{insuranceRebillDays}}|{{insuranceInitialDays}}|{{currency}}|{{year}}|{{phone}}|{{xsellRebillPeriod}}|{{xsellRebillPrice}}|{{xsellTrialPeriod}}|{{xsellTrialPrice}}/gi,(function(e){return t[e]})),de=JSON.parse(oe),n(a,de)}}),z.ajax({url:(e?"/core/build/":"")+"translations/validation-messages.json",type:"GET",contentType:"application/json",dataType:"json",async:!1,global:!1,success:function(e){var n=e;window.Parsley.addMessages(a,n[a]),window.Parsley.setLocale(a),document.getElementById("terms")&&document.getElementById("terms").setAttribute("data-parsley-required-message",n[a]["termsCheckbox"])}}),de}function Ae(e,a){document.getElementsByTagName("html")[0].setAttribute("lang",e);const n=document.querySelectorAll("[data-i18n]");n.forEach((e=>{for(const n in a)Object.hasOwnProperty.call(a,n)&&(e.getAttribute("data-i18n").includes(n)&&("INPUT"===e.nodeName?e.setAttribute("placeholder",a[n]):e.innerHTML=a[n]))}))}var ke,Te,xe,Re,Me,Ne,Oe=n+"sessions/update/order"+D.cleanUp(),Le={userSessionId:null,offerIndex:0,offerItemId:null,productVariant:null};const Be=document.getElementById("payment-form"),je=document.getElementById("payment-button");var Fe=document.querySelectorAll(".product-terms");const Ve=document.getElementById("signup-form"),Ge=document.getElementById("signup-button"),qe=document.getElementById("all-submission-button");qe&&(qe.onclick=()=>{Be.checkValidity()||je.click(),Ge.click()});var He=document.querySelectorAll(".shipping-price"),ze=document.querySelectorAll(".insurance-priority-price"),Je=document.querySelectorAll(".total-price"),$e=function(e,a){if(e)for(let n=0;n<e.length;n++)!0===a&&(e[n].checked=!0),!1===a&&(e[n].checked=!1)},Ke=function(e,a){e&&e.forEach((function(e){e.style.display=a}))},We=function(e,a){e&&e.forEach((function(e){e.innerHTML=a}))},Ye=function(e,a,n){e&&e.forEach((function(e){"setAttribute"===a&&e.setAttribute(n,n),"removeAttribute"===a&&e.removeAttribute(n)}))},Ze=function(e,a,n){if(!(e&&a&&n)&&console.error("Error: Make sure to pass all the params required."),"add"===a&&(!e.includes(n)&&e.push(n)),"remove"===a)for(let t=0;t<e.length;t++)e[t]===n&&e.splice(t,1)},Xe=function(e,a,n,t,i,r,c,o,d,s){z.ajax({url:Oe,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(Le),success:function(){$e(e,a),We(n,t),We(i,r.toFixed(2)),We(c,o),Ke(d,s),Ye(e,"removeAttribute","disabled")},error:function(a){$e(e,!1),We(n,t),We(i,r.toFixed(2)),We(c,t),Ke(d,"none"),Ye(e,"removeAttribute","disabled"),console.error("Couldn't get the product data","Error Code:",a.status)}})},Qe=function(e,a,n,t){"66019"===G&&(xe=e,Re=a,Me=n,Ne=t)},ea=function(e,a,n){Le["userSessionId"]=a.id,Le["offerItemId"]=n[1].id,Le["productVariant"]=n[0].product.selectedVariant,xe=n[1].pricingPoint.trialPrice,Re=n[1].pricingPoint.trialPrice-n[0].pricingPoint.trialPrice,Qe(n[0].pricingPoint.trialPrice,n[1].pricingPoint.rebillPrice,n[1].pricingPoint.rebillPeriodInDays,n[1].pricingPoint.trialPeriodInDays),Xe(e,!0,He,n[0].pricingPoint.trialPrice,ze,Re,Je,xe,Fe,"block")},aa=function(e,a,n){Le["userSessionId"]=a.id,Le["offerItemId"]=n[0].id,Le["productVariant"]=n[0].product.selectedVariant,xe=n[0].pricingPoint.trialPrice,Re=n[1].pricingPoint.trialPrice-n[0].pricingPoint.trialPrice,Qe(n[0].pricingPoint.trialPrice,n[1].pricingPoint.rebillPrice,n[1].pricingPoint.rebillPeriodInDays,n[1].pricingPoint.trialPeriodInDays),Xe(e,!1,He,n[0].pricingPoint.trialPrice,ze,Re,Je,xe,Fe,"none")},na=function(e){var a=new URL(window.location.href),n=a.searchParams.get("reasonCode");return P("__rc",n,1),e.find((function(e){return e.toString()===n}))}(g);function ta(e,a){"object"==typeof newrelic&&e&&a&&window.newrelic.addPageAction(e,a)}var ia=function(e,a,n,t,i,r,c){var o=new p.fabric.Canvas(e,{selection:!1,interactive:!1}),d=new p.fabric.Text(a,{left:0,top:0,fontFamily:r,textAlign:n,fill:t,fontSize:i,lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,hasControls:!1});o.add(d),o.setWidth(document.body.scrollWidth),o.setHeight(c),document.querySelector(".upper-canvas").remove()},ra=function(){var e=document.getElementsByClassName("campaign-image");T.get(j).then((n=>D.decrypteResponse(n).then((n=>{if(a={...a,sid:n.id,subdomain:n.campaign.subdomain,campaignEntityId:n.campaign.campaignEntityId,campaignVerticalId:n.campaign.campaignVerticalId,campaignGeo:n.campaign.campaignGeo.geoEntityId,exitSale:n.campaign.isExitSale,openCampaign:n.campaign.isOpenCampaign,offerId:n.affiliate&&n.affiliate.offerId?n.affiliate.offerId:null,affiliateId:n.affiliate&&n.affiliate.affiliateId?n.affiliate.affiliateId:null,subAffiliate:n.affiliate&&n.affiliate.subAffiliate?n.affiliate.subAffiliate:null,subAffiliate2:n.affiliate&&n.affiliate.subAffiliate2?n.affiliate.subAffiliate2:null,subAffiliate3:n.affiliate&&n.affiliate.subAffiliate3?n.affiliate.subAffiliate3:null,firstName:n.prospect.firstName,lastName:n.prospect.lastName,email:n.prospect.email,phone:n.prospect.phone,address:n.prospect.address?n.prospect.address.street:null,userCity:n.prospect.address?n.prospect.address.city:null,state:n.prospect.address?n.prospect.address.state:null,userCountry:n.prospect.address?n.prospect.address.country:null,ipAddress:n.prospect.ipAddress,paymentPageID:n.payPageTemplateShortId,isCpaSalvaged:n.isCpaSalvaged},I("__cpas")||(ta("paymentPageInit",{firstTimeInit:!0}),a={...a,firstTimeInit:!0}),t=n.campaign.cpaSalvageUrl,P("__cpas",n.campaign.cpaSalvageUrl,1),n.isCpaSalvaged)ta("cpaSalvagePaymentPage",{isCpaSalvaged:!0}),a={...a,isCpaSalvaged:!0},setTimeout((function(){window.location.href=n.campaign.cpaSalvageUrl}),800);else{h=n.campaign.isExitSale;var p=h?n.userOffers.pop():n.userOffers[0];i=L+p.selectedMerchant.shopDomain+"/"+n.campaign.payPageTemplateShortId+"/approved.html?sid="+n.id,A.get("sa")&&(i+="&sa="+A.get("sa"));let t=n.affiliate&&n.affiliate.offerId?n.affiliate.offerId:"";localStorage.setItem("orderId",t),na&&(window.history.replaceState({},document.title,window.location.origin+window.location.pathname+"?sid="+n.id),f.eventHandler("paymentError","show")),a={...a,orderState:p.order&&p.order.state?p.order.state:null,approvedPageUrl:i,xsell:!(!p||!p.isXsell)&&p.isXsell},B(n,p,i);var y=p.order.selectedOfferItem.pricingPoint.countryId,g=ie(y).currency.id;if(q=n.language,ge=n.campaign.isOpenCampaign?g:n.campaign.currency,G=n.campaign.payPageTemplateShortId,se=p.selectedMerchant.shopDomain,fe=p.selectedMerchant.brand.phone,le=se.split(".")[0],me=p.order.selectedOfferItem.pricingPoint.trialPeriodInDays,ue=p.order.selectedOfferItem.pricingPoint.trialPrice,pe=p.order.selectedOfferItem.pricingPoint.rebillPeriodInDays,ye=p.order.selectedOfferItem.pricingPoint.rebillPrice,Ie=n.campaign.isOpenCampaign?y:n.country,Ee=n.campaign.campaignImage,De=n.finalStaticDomain,_e=n.country+"-"+n.language,r=n.userOffers[0].declinedCounter,c=n.userOffers[0].order.selectedOfferItem.addOns,"84a18"!==G&&"8be9f"!==G||!n.prospect.address||(d=n.prospect.email,s=n.prospect.address.street?n.prospect.address.street:"",u=n.prospect.address.city?n.prospect.address.city:"",l=n.prospect.address.postcode?n.prospect.address.postcode:"",m=s+", "+u+", "+l),n.campaign.xsellProductPricingPoint&&(he=n.campaign.xsellProductPricingPoint.rebillPeriodInDays,Se=n.campaign.xsellProductPricingPoint.rebillPrice,be=n.campaign.xsellProductPricingPoint.trialPeriodInDays,ve=n.campaign.xsellProductPricingPoint.trialPrice),"067ba"===G&&te(Ie),"nw3hr"!==G&&"18b39"!==G&&"x7nvl"!==G&&"a71ca"!==G&&"0330d"!==G&&"a9ece"!==G||void 0===c&&0===c.length||c.forEach((function(e){if("LEGAL_FEES"===e.addOnEntityId){Be.querySelector("button").insertAdjacentHTML("beforebegin",`<div class="form-group form-check mb-0 pb-0">\n                                                <input type="checkbox" class="form-check-input" id="legal-checkbox">\n                                                <label class="form-check-label legal-fees-label clearfix smaller" for="legal-checkbox" style="font-size: 13px;">\n                                                    <span class="terms-text" data-i18n="legal-fees-text"></span>\n                                                    <span class="insurance-priority-price"></span> ${n.userOffers[0].order.selectedOfferItem.addOns[0].price} <span class="currency"></span>\n                                                    <span class="terms-text" data-i18n="legal-fees-text-2"></span>\n                                                </label>\n                                            </div>`),o=document.getElementById("legal-checkbox");var a=document.querySelectorAll(".displayPrice .price-container"),t=function(e){a.forEach((function(a){a.textContent=e}))};!0===n.userOffers[0].order.selectedOfferItem.addOns[0].isSelected&&(o.checked=!0,o.classList.add("legal-checkbox-checked"),Ze(S,"add","LEGAL_FEES"),t(ue+n.userOffers[0].order.selectedOfferItem.addOns[0].price)),o.addEventListener("change",(function(){this.checked?(Ze(S,"add","LEGAL_FEES"),t(ue+n.userOffers[0].order.selectedOfferItem.addOns[0].price),o.classList.add("legal-checkbox-checked")):(Ze(S,"remove","LEGAL_FEES"),t(ue),o.classList.remove("legal-checkbox-checked"))}))}})),Ie&&!h){var b="",v="";"25453"===G||"b2e5a"===G||"89db2"===G||"c8838"===G||"d0db8"===G||"8be9f"===G?b="checked":"66019"===G&&(v=' <span data-i18n="roas-terms-and"></span> <a class="privacy-link" data-i18n="roas-terms-privacy"></a>');var _=`<input type="checkbox" id="terms" name="terms" class="terms-checkbox" data-parsley-required="true" data-parsley-trigger="change" data-parsley-terms-checkbox data-parsley-checkmin="1" required ${"66019"===G&&"checked"} ${b} />`;_+=`<label for="terms" class="terms-label"> <span data-i18n="${"66019"===G?"roas-terms-text-first":"terms-text"}"></span> <a class="terms-link" data-i18n="${"66019"===G?"roas-terms-text-second":"terms-text-two"}"></a>`+v+`<span data-i18n="${"66019"===G?"roas-terms-text-third":"terms-text-three"}"></span> </label>`;var k=document.getElementById("terms-checkbox");k&&(k.innerHTML=_);var T=document.getElementById("terms"),x=document.querySelector(".terms-label");if(T){var R=T.nextElementSibling.querySelector(".terms-link"),N=T.nextElementSibling.querySelector(".privacy-link");R&&(E(R,"28442"!==G&&"66019"!==G||!De?`https://${se}/terms.html`:`https://${De}/${_e}/terms.html`),x.prepend(T)),N&&(E(R,"66019"===G&&De?`https://${De}/${_e}/pp.html`:`https://${se}/privacy-policy`),x.prepend(T)),"84a18"!==G&&"f76c2"!==G||(T.checked=!0),T.addEventListener("change",(function(){this.checked?C(this):w(this)}))}}we(q,Ae);for(let a=0;a<e.length;a+=1){var j;j=null!==Ee?"https://"+Ee:"images/default_image.png",e[a].src=j}if("0330d"===G){var J=document.querySelector(".xsell-checkbox");J&&(!0===n.campaign.isPreCheckedPaymentPageCheckbox&&(J.checked=!0,U=!0),J.addEventListener("change",(function(){U=!!this.checked})));var $=document.getElementById("offer-header");$&&ia($,de["vpn-offer-header"],"center","#484848",18,"Cabin",20);var W=document.getElementById("xsell-details-canvas");W&&ia(W,de["vpn offer-checkbox-text-2"],"left","#999",12,"Cabin",130);var Y=document.querySelector(".xsell-label span a");Y&&(Y.setAttribute("href","https://safeguarda.com/terms-and-conditions/"),Y.setAttribute("target","_blank"));var Z=document.querySelector(".xsell-offer-img");Z&&(Z.src="images/xsell-01-banner-img.jpg",z(Z).click((function(){z([document.documentElement,document.body]).animate({scrollTop:z("#offer-header").offset().top},1e3),J.checked=!0,U=!0})))}if("ar"===q){var X=document.getElementsByTagName("html")[0],Q=document.getElementsByTagName("body")[0];X.setAttribute("dir","rtl"),Q.classList.add("content-ar"),Q.style.cssText="text-align: right;"}var ee=p.order.selectedOfferItem.pricingPoint,re=p.selectedMerchant.brand.company.address1;re=re?", "+re:"";var ce=p.selectedMerchant.brand.company.address2;ce=ce?", "+ce:"";var oe=p.selectedMerchant.brand.company.city;oe=oe?", "+oe:"";var Ue=p.selectedMerchant.brand.company.postcode;Ue=Ue?", "+Ue:"";var Ce=p.selectedMerchant.brand.company.country;Ce=Ce?", "+Ce:"";var xe=p.selectedMerchant.brand.phone;xe=xe?", "+xe:"","28442"===G&&z(".productPrice").text(ee.trialPrice),z(".domainName").html(p.selectedMerchant.shopDomain),z(".initialPrice").html(ee.trialPrice),z(".rebillPrice").html(ye),z(".currency").html(ge),z(".companyName").html(p.selectedMerchant.brand.company.name),z(".companyAddress").html(re+ce),z(".companyCity").html(oe),z(".companyPostode").html(Ue),z(".companyCountry").html(Ce),z(".phoneNumber").html(xe),z(".user-email").html(d),z(".user-address").html(m);var Oe=p.selectedMerchant.threatMetrix;if(n.userOffers.length&&p.selectedMerchant&&Oe&&Pe(Oe.organizationId,Oe.sessionId),"afa7c"===G){var Le=document.getElementById("terms");Le&&(Le.checked=!0)}if("25453"===G||"b2e5a"===G||"afa7c"===G||"66019"===G){const e=n.userOffers[0].order.selectedOfferItem,a=n.campaign.offers[0].offerItems,t=a.some(ae);let i;a.sort(((e,a)=>e.product.sku.localeCompare(a.product.sku)));const r=a.filter((a=>a.product.sku.split("-")[0].includes(e.product.sku.split("-")[0])));r.length<2&&console.error("Error: Couldn't find a product pair.");for(var je=0;je<r.length;je++)t?r[je].pricingPoint.rebillPrice?ke=r[je]:Te=r[je]:r[je-1]&&(r[je].pricingPoint.trialPrice>r[je-1].pricingPoint.trialPrice&&(ke=r[je]),Te=r[je-1]);i=[Te,ke],Re=ke.pricingPoint.rebillPrice,Me=ke.pricingPoint.rebillPeriodInDays,Ne=ke.pricingPoint.trialPeriodInDays;const c=document.querySelectorAll(".insurance-cbox");c.forEach((e=>{e.querySelector(".insurancePriceValue").textContent=Re,e.querySelector(".insuranceRebillDays").textContent=Me,e.querySelector(".insuranceInitialDays").textContent=Ne}));const o=document.querySelectorAll("#productCheckbox");if(o){if(!0===n.campaign.isPreCheckedPaymentPageCheckbox){for(let e=0;e<o.length;e++)o[e].checked=!0;ea(o,n,i)}"66019"===G&&(F(i,K),V(n));for(let e=0;e<o.length;e++){const a=o[e];a.addEventListener("change",(function(){if(a.disabled=!0,this.checked){for(let e=0;e<o.length;e++)o[e].checked=!0;ea(o,n,i)}else{for(let e=0;e<o.length;e++)o[e].checked=!1;aa(o,n,i)}}))}}e.product.sku===i[1].product.sku?($e(o,!0),We(He,i[0].pricingPoint.trialPrice),We(ze,(i[1].pricingPoint.trialPrice-i[0].pricingPoint.trialPrice).toFixed(2)),We(Je,i[1].pricingPoint.trialPrice),Ke(Fe,"block")):($e(o,!1),We(He,i[0].pricingPoint.trialPrice),We(ze,(i[1].pricingPoint.trialPrice-i[0].pricingPoint.trialPrice).toFixed(2)),We(Je,i[0].pricingPoint.trialPrice),Ke(Fe,"none"))}if("414c6"===G&&(D.pageLoader(!0,G),document.getElementById("clickToPayment").click()),"a9ece"===G){const e=document.getElementById("terms");e&&(e.checked=!0)}da(n.prospect,Ie),ne(Ie),"8be9f"===G&&M(n,de),"f76c2"===G&&O(n,de),H.init(a).event("SESSION_GET_PP"),D.pageLoader(!1,G)}})))).catch((n=>{D.decrypteResponse(n).then((n=>{if("staging"===b.index||"uat"===b.index){we(q,Ae),D.pageLoader(!1,G),console.error(n);for(let a=0;a<e.length;a+=1)e[a].src="images/default_image.png"}else window.location.href=window.location.origin+"/404",a={...a,httpRequest:"ERROR"},H.init(a).event("SESSION_GET_PP")}))}))};function ca(e){N(!1),document.getElementById("stepUpFormV1").setAttribute("action",e.acsUrl),document.getElementById("PaReq").setAttribute("value",e.paReq),document.getElementById("TermUrl").setAttribute("value",e.redirectUrl),document.getElementById("md").setAttribute("value",encodeURIComponent(JSON.stringify({transactionId:e.transactionId}))),console.info("About to submit stepUpFormV1"),document.getElementById("stepUpFormV1").submit()}var oa=function(e){e?(f.eventHandler("paymentInProgress","show"),z(".wait-btn-text").removeClass("hide-text"),z(".submit-btn-text").addClass("hide-text"),z(".gtw_default").prop("disabled",!0)):e||(k(["card","month","ccyear","cvv","terms"]),ee&&(z("#terms").parsley().reset(),ee.classList.remove("parsley-success"),ee.classList.add("parsley-error")),f.eventHandler("paymentError","show"),z(".gtw_default").prop("disabled",!1),z("#card, #month, #ccyear, #cvv, #terms").removeClass("parsley-error parsley-success"),z(".wait-btn-text").addClass("hide-text"),z(".submit-btn-text").removeClass("hide-text"))};const da=(e,a)=>{if(Ve){D.prefilledForm(e);const n=new Event("submit",{bubbles:!0,cancelable:!1});Ve.addEventListener("submit",(function(t){t.preventDefault();let i={};if("f76c2"===G&&z("#signup-form").parsley().isValid()){e&&(e.address&&delete e.address.id,delete e.id,delete e.ipAddress,i=D.cleanObject(e),i=D.sortObject(i));let n=D.formData(this);n={prospect:{firstName:n.firstname,lastName:n.lastname,email:n.email,phone:n.phone,address:{city:n.city,state:n.state?n.state:null,country:a.toUpperCase(),postcode:n.zipcode,street:n.address}}},n=D.sortObject(n),JSON.stringify(n.prospect)!==JSON.stringify(i)&&T.patch(j,n).then((e=>D.decrypteResponse(e).then((e=>{e&&e.reasonCode&&x(e)}))))}if(z("#signup-form").parsley().isValid()&&z("#payment-form").parsley().isValid()){oa(!0),e&&(e.address&&delete e.address.id,delete e.id,delete e.ipAddress,i=D.cleanObject(e),i=D.sortObject(i));let t=D.formData(this);t={prospect:{firstName:t.firstname,lastName:t.lastname,email:t.email,phone:t.phone,address:{complement:t.address2?t.address2:" ",city:t.city,state:t.state?t.state:null,country:a.toUpperCase(),postcode:t.zipcode,street:t.address}}},t=D.sortObject(t),JSON.stringify(t.prospect)!==JSON.stringify(i)?T.patch(j,t).then((e=>D.decrypteResponse(e).then((e=>{e&&e.reasonCode?x(e):Be.dispatchEvent(n)})))):qe&&Be.dispatchEvent(n)}else"f76c2"!==G&&je.click()}))}};var sa=function(){Be&&Be.addEventListener("submit",(function(e){e.preventDefault();const t=D.formData(this);if(z("#payment-form").parsley().isValid()){ta("paymentPageInit",{paymentFormSubmit:!0}),oa(!0);var c={sessionId:j,currency:ge,selectedAddOns:0!==S.length?S:[],isCampaignXsellProductSelected:U},o={sessionId:j,currency:ge,selectedAddOns:0!==S.length?S:[],isCampaignXsellProductSelected:U,creditCard:t};N(!0);var d=n+"payment"+D.cleanUp();z.ajax({url:d,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),success:function(e){D.decrypteResponse(e).then((function(e){if("production"!==b.index&&console.log("POST: payment response: ",e),e.reasonCode&&(!0===R(y,e.reasonCode)?x(e):oa(!1),a={...a,reasonCode:e.reasonCode,orderState:"CPA_SALVAGE"},H.init(a).event("PURCHASE_ATTEMPT")),"3DS_PROCESS_INITIATED"===e.status){var t;2===e.threeDsVersion?(document.getElementById("dataCollectionForm").setAttribute("action",e.deviceCollectionUrl),document.getElementById("deviceCollectionJwt").setAttribute("value",e.deviceCollectionJwt),document.getElementById("dataCollectionForm").submit(),t=e.expectedCardinalResponseDomain):1===e.threeDsVersion&&ca(e);var o=!1;window.addEventListener("message",(function(e){if(console.log("listener triggered"),e.origin===t){var d=JSON.parse(e.data);if(console.info("Merchant received a message:",d),void 0!==d&&d.Status){console.info("Cardinal DF status successful.  Trying to obtain DF reference ID");let e=d.SessionId;console.info("Cardinal DF ID: "+e);var s={threeDsLookupParameters:{deviceFingerprintingId:e}},l=Object.assign(s,c);if(!1===o){o=!0;var u=n+"payment/3ds_lookup"+D.cleanUp();z.ajax({url:u,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(l),success:function(e){return D.decrypteResponse(e).then((function(e){"production"!==b.index&&console.log("POST: payment/3ds_lookup response: ",e),"3DS_AUTHENTICATION_REQUIRED"===e.status?(2===r&&null!==Ce&&(window.sessionStorage.removeItem("__authSubmit"),Ce=null),2!==e.threeDsVersion||Ce?1!==e.threeDsVersion||Ce||(window.sessionStorage.setItem("__authSubmit","3DsV1"),ca(e)):(N(!1),window.sessionStorage.setItem("__authSubmit","3DsV2"),document.getElementById("stepUpForm").setAttribute("action",e.stepUpUrl),document.getElementById("stepUpJwt").value=e.stepUpJwt,document.getElementById("merchantData").setAttribute("value",encodeURIComponent(JSON.stringify({transactionId:e.transactionId}))),document.getElementById("stepUpForm").submit())):"PURCHASE_SUCCESS"===e.status?(ta("paymentPageInit",{pay3ds:"FL_PURCHASE_SUCCESS"}),a={...a,xsell:!1,orderState:"PURCHASE_SUCCESS"},H.init(a).event("PURCHASE_ATTEMPT"),N(!1),setTimeout((function(){window.location.href=i}),800)):e&&e.reasonCode&&(!0===R(y,e.reasonCode)?x(e):oa(!1),a={...a,reasonCode:e.reasonCode,orderState:"CPA_SALVAGE"},H.init(a).event("PURCHASE_ATTEMPT"))})),!1},error:function(e){return D.decrypteResponse(e.responseJSON).then((function(e){N(!1),oa(!1),k(["card","month","ccyear","cvv","terms"]),ee&&(z("#terms").parsley().reset(),ee.classList.remove("parsley-success"),ee.classList.add("parsley-error")),console.error("Payment 3ds Error: ",e);var n=e,t=e.reasonCode;n&&!0===R(y,t)&&(a={...a,reasonCode:t,orderState:"CPA_SALVAGE"},H.init(a).event("PURCHASE_ATTEMPT"),x(n))})),!1}}).then((function(){o=!0}))}}else console.error("Cardinal data element is undefined or the status is false")}else console.error("event.origin is not what we expected for Cardinal: "+e.origin)}),!1)}else"PURCHASE_SUCCESS"===e.status&&(ta("paymentPageInit",{none3ds:"PURCHASE_SUCCESS"}),N(!1),a={...a,xsell:!1,orderState:"PURCHASE_SUCCESS"},H.init(a).event("PURCHASE_ATTEMPT"),setTimeout((function(){window.location.href=i}),800))}))},error:function(e){D.decrypteResponse(e.responseJSON).then((function(e){k(["card","month","ccyear","cvv","terms"]),ee&&(z("#terms").parsley().reset(),ee.classList.remove("parsley-success"),ee.classList.add("parsley-error")),N(!1),console.warn("Payment Error: ",e),e&&e.reasonCode?(!0===R(y,e.reasonCode)?x(e):oa(!1),a={...a,reasonCode:e.reasonCode,orderState:"CPA_SALVAGE"},H.init(a).event("PURCHASE_ATTEMPT")):(oa(!1),a={...a,httpRequest:"ERROR"},H.init(a).event("PURCHASE_ATTEMPT"))}))}})}else oa(!1)}))},la=function(){return D.pageLoader(!0),Ue(),sa(),j?ra():"production"===b.index?window.location.href=window.location.origin+"/404":(we(q,Ae),D.pageLoader(!1)),j},ua=function(){return{apiUrlPayment:n+"payment"+D.cleanUp(),approvedPageUrl:i,postInfo:{sessionId:j,currency:ge,selectedAddOns:0!==S.length?S:[],isCampaignXsellProductSelected:U}}};return{init:la,exitSale:ua}}();z(document).ready((function(){a.init();const e=document.getElementById("clickToPayment");e&&B(a,e)}))};var $=n(7387);const K=()=>{H.appendNewrelicScript();let e=H.init().postData;const a=v.init().baseUrl,n=D.cleanUp();var t,i,r,c,o,d,s,l,u,m,p,y,g,f="en",h=document.querySelector(".banner-link")?document.querySelectorAll(".banner-link"):null,S=new URLSearchParams(window.location.search),U=S.get("sid"),P=window.sessionStorage.getItem("__authSubmit"),I=!1;const E=T.id;function C(e,a){"object"==typeof newrelic&&e&&a&&window.newrelic.addPageAction(e,a)}const w=!0;function A(e){document.getElementsByTagName("html")[0].setAttribute("lang",e),$.ajax({async:!1,global:!1,url:`${w?"/core/build/":""}translations/i18n/${e}.json`,dataType:"json",success:function(e){const a=document.querySelectorAll("[data-i18n]");a.forEach((function(a){for(var n in e)Object.hasOwnProperty.call(e,n)&&(a.getAttribute("data-i18n").includes(n)&&(a.innerHTML=e[n]))}))}})}function k(){var e=document.createElement("div");e.classList.add("loader-wrapper"),e.innerHTML='<div class="loader-container"><div class="loader"></div></div>',document.body.appendChild(e),document.body.style.overflowY="hidden"}var x=function(t){var i={sessionId:U,currency:s};h=document.querySelector(".banner-link")?document.querySelectorAll(".banner-link"):null,h.forEach((function(r){r.addEventListener("click",(function(r){if(r.preventDefault(),m&&m.isXsell)_.create("__xsb_clicked","1",1),document.querySelector(".exit-sale-container").innerHTML=null,$.ajax({url:a+"payment"+n,type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(i),success:function(t){D.decrypteResponse(t).then((function(t){if("staging"!==d&&"uat"!==d||console.log("POST: payment response: ",t),"3DS_PROCESS_INITIATED"===t.status){var r;2===t.threeDsVersion?(document.getElementById("dataCollectionForm").setAttribute("action",t.deviceCollectionUrl),document.getElementById("deviceCollectionJwt").setAttribute("value",t.deviceCollectionJwt),document.getElementById("dataCollectionForm").submit(),r=t.expectedCardinalResponseDomain):1===t.threeDsVersion&&console.warn("3dsV1 not supported");var c=!1;window.addEventListener("message",(function(t){if(console.log("listener triggered"),t.origin===r){var o=JSON.parse(t.data);if(console.info("Merchant received a message:",o),void 0!==o&&o.Status){console.info("Cardinal DF status successful.  Trying to obtain DF reference ID");let t=o.SessionId;console.info("Cardinal DF ID: "+t);var s={threeDsLookupParameters:{deviceFingerprintingId:t}},u=Object.assign(s,i);!1===c&&(c=!0,$.ajax({url:a+"payment/3ds_lookup"+n,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(u),success:function(a){return D.decrypteResponse(a).then((function(a){"staging"!==d&&"uat"!==d||console.log("POST: payment/3ds_lookup response: ",a),"3DS_AUTHENTICATION_REQUIRED"===a.status?2!==a.threeDsVersion||P?1!==a.threeDsVersion||P||console.warn("3dsV1 not supported"):(window.sessionStorage.setItem("__authSubmit","3DsV2"),document.getElementById("stepUpForm").setAttribute("action",a.stepUpUrl),document.getElementById("stepUpJwt").value=a.stepUpJwt,document.getElementById("merchantData").setAttribute("value",encodeURIComponent(JSON.stringify({transactionId:a.transactionId}))),document.getElementById("stepUpForm").submit()):"PURCHASE_SUCCESS"===a.status?(l=!0,e={...e,xsell:!0,orderState:"PURCHASE_SUCCESS"},H.init(e).event("PURCHASE_ATTEMPT")):a&&a.reasonCode&&(l=!0)})),!1},error:function(e){return D.decrypteResponse(e.responseJSON).then((function(e){console.error("Payment 3ds Error: ",e),l=!0})),!1}}).then((function(){c=!0})))}else console.error("Cardinal data element is undefined or the status is false")}else console.error("event.origin is not what we expected for Cardinal: "+t.origin)}),!1)}else"PURCHASE_SUCCESS"===t.status&&(u=p+y+"/"+g+"/approved.html?sid="+E,e={...e,xsell:!0,orderState:"PURCHASE_SUCCESS"},H.init(e).event("PURCHASE_ATTEMPT"),setTimeout((()=>window.location.href=u),1e3))}))},error:function(e){D.decrypteResponse(e.responseJSON).then((function(e){console.warn("Payment Error: ",e)}))}});else{var c=r.currentTarget.getAttribute("href");setTimeout((function(){var a=c+"&sid="+U;k(),_.get("__esb_clicked")||(C("exitBannerClicked",{bannerUrl:a,paymentPageID:t.campaign.payPageTemplateShortId}),e={...e,exitBannerClicked:!0},H.init(e).event("SESSION_GET_PP")),_.create("__esb_clicked","1",1),setTimeout((function(){window.location.href=a}),1e3)}))}}),{once:!0})}))},R={async:!0,crossDomain:!0,url:"",method:"GET"};function M(e){$.ajax(R).done((function(a){var n=e.country+"-"+e.language,t=a[n];if(t){$(".banner-section-title").html(t.bannerTitle),$(".banner-subtitle").html(t.bannerSubtitle);var i=[];for(let a=0;a<t.banners.length;a++)i.push("https://"+e.cookieDomain+"/?a=2&c="+t.banners[a].bannerLink+"&s1=");$.each(t.banners,(function(a,n){var t=a+1;let i,r=window.location.host.split(".")[1];if(i="us"===e.country?"https://images."+r+".com/exit-bnr/us-en/img/"+n.bannerFile+".jpg":"https://images."+r+".com/exit-bnr/"+e.language+"/img/"+n.bannerFile+".jpg",$(".banners-container").append('<a class="banner-link banner'+t+'"href="https://'+e.cookieDomain+"/?a=2&c="+n.bannerLink+'&s1="><img src = '+i+" ><div>"+n.btnTxt+' <span class="fa fa-chevron-right"></span></div></a>'),m&&m.isXsell){var c=document.getElementsByClassName("banner-link");for(let e=0;e<c.length;e++)c[e].removeAttribute("href")}})),"18b39"==e.campaign.payPageTemplateShortId&&$(".banners-container").append('<p class="limited">'+t.ltdTxt+"</p>"),x(e)}}))}E?T.get(E).then((a=>D.decrypteResponse(a).then((a=>{e={...e,sid:a.id,subdomain:a.campaign.subdomain,campaignEntityId:a.campaign.campaignEntityId,campaignVerticalId:a.campaign.campaignVerticalId,campaignGeo:a.campaign.campaignGeo.geoEntityId,exitSale:a.campaign.isExitSale,openCampaign:a.campaign.isOpenCampaign,offerId:a.affiliate&&a.affiliate.offerId?a.affiliate.offerId:null,affiliateId:a.affiliate&&a.affiliate.affiliateId?a.affiliate.affiliateId:null,subAffiliate:a.affiliate&&a.affiliate.subAffiliate?a.affiliate.subAffiliate:null,subAffiliate2:a.affiliate&&a.affiliate.subAffiliate2?a.affiliate.subAffiliate2:null,subAffiliate3:a.affiliate&&a.affiliate.subAffiliate3?a.affiliate.subAffiliate3:null,firstName:a.prospect.firstName,lastName:a.prospect.lastName,email:a.prospect.email,phone:a.prospect.phone,address:a.prospect.address?a.prospect.address.street:null,userCity:a.prospect.address?a.prospect.address.city:null,state:a.prospect.address?a.prospect.address.state:null,userCountry:a.prospect.address?a.prospect.address.country:null,ipAddress:a.prospect.ipAddress,paymentPageId:a.payPageTemplateShortId,isCpaSalvaged:a.isCpaSalvaged},f=a.language,A(f),I=a.campaign.isExitSale;var n=I&&a.userOffers.length>1?a.userOffers.pop():a.userOffers[0];if(e={...e,orderState:n.order&&n.order.state?n.order.state:null,approvedPageUrl:window.location.href,xsell:!(!n||!n.isXsell)&&n.isXsell},t=n.order.everflowPixelUri,t&&null!=t){let e=document.createElement("iframe");e.id="everflowIframe",e.src=t,e.frameborder="0",e.height="1",e.width="1",document.body.appendChild(e),sessionStorage.setItem("everflowIframeState","1")}if(i=n.order.cakePixelData,i&&null!=i){var d="o="+i.o,u=i.e?"&e="+i.e:"",p=i.r?"&r="+i.r:"",y="&t="+i.t;r="https://"+a.cookieDomain+"/p.ashx?"+d+u+"&fb=1"+p+y;var g=document.createElement("iframe");g.id="cakeIframe",g.src=r,g.setAttribute("frameBorder","0"),g.height="1",g.width="1",document.body.appendChild(g)}if("ROAS"===a.campaign.campaignVerticalId||"twsloud"===a.campaign.subdomain){const e=`https://${a.campaign.subdomain}.${a.campaign.finalStaticDomain}/${a.campaign.campaignGeo.geoEntityId}/thankyou.html`;window.location.href=e}s=a.campaign.currency,$(".descriptorInfo").length&&(c=n.order.billingDescriptorPart1,$(".descriptorInfo").html(c)),$(".product").length&&(o=n.selectedMerchant.shopDomain,$(".product").html(o.split(".")[0])),m=a.userOffers.length>1?a.userOffers.pop():null,_.get("__xsb_clicked")||m&&m.isXsell&&"SUCCESSFUL"===m.order.state?l=!0:m&&m.isXsell&&"STEP_1"===m.order.state&&(l=!1),!l&&a.preExistingMembershipsCount<1&&("x7nvl"!==a.campaign.payPageTemplateShortId&&"84a18"!==a.campaign.payPageTemplateShortId||(R.url=(w?"/core/build/":"")+"translations/banners-4.json",M(a)),"18b39"===a.campaign.payPageTemplateShortId&&(R.url=(w?"/core/build/":"")+"translations/banners-3.json",M(a)),"c8838"===a.campaign.payPageTemplateShortId&&(R.url=(w?"/core/build/":"")+"translations/ecom-1-banners-3.json",M(a)),"d0db8"===a.campaign.payPageTemplateShortId&&(R.url=(w?"/core/build/":"")+"translations/ecom-2-banners-3.json",M(a))),"89db2"!==a.campaign.payPageTemplateShortId&&"b2e5a"!==a.campaign.payPageTemplateShortId&&"28442"!==a.campaign.payPageTemplateShortId&&"25453"!==a.campaign.payPageTemplateShortId||setTimeout((function(){window.location=`https://${a.cookieDomain}/?a=2&c=5666&s1=&sid=${U}`}),100),H.init(e).event("SESSION_GET_PP")})))).catch((a=>{D.decrypteResponse(a).then((a=>{A(f),"staging"===b.index||"uat"===b.index?console.log(a):(e={...e,httpRequest:"ERROR"},H.init(e).event("SESSION_GET_PP"),setTimeout((()=>{window.location.href=window.location.origin+"/404"}),1e3))}))})):"production"===b.index&&(window.location.href=window.location.origin+"/404")};(()=>{(window.location.pathname.includes("gateway")||b.local&&"/"===window.location.pathname)&&J(),window.location.pathname.includes("approved")&&K()})(),(0,t.ri)(l).use(m).mount("#app")},8092:function(e,a,n){var t={"./en.json":3482};function i(e){var a=r(e);return n(a)}function r(e){if(!n.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}i.keys=function(){return Object.keys(t)},i.resolve=r,e.exports=i,i.id=8092},2480:function(){},4960:function(){},6759:function(){},6272:function(){}}]);
//# sourceMappingURL=chunk-common.js.map